{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/apps/frontend/lib/auth-context.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useState, useEffect, ReactNode } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\ninterface User {\n  id: number;\n  email: string;\n  name: string;\n  phone?: string;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  isAuthenticated: boolean;\n  isLoading: boolean;\n  login: (token: string) => Promise<void>;\n  logout: () => void;\n  checkAuth: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const router = useRouter();\n\n  const checkAuth = async () => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      setUser(null);\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n      const response = await fetch(\"/api/auth/me\", {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setUser(data);\n      } else {\n        localStorage.removeItem(\"token\");\n        setUser(null);\n      }\n    } catch (error) {\n      localStorage.removeItem(\"token\");\n      setUser(null);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const login = async (token: string) => {\n    localStorage.setItem(\"token\", token);\n    await checkAuth();\n  };\n\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    setUser(null);\n    router.push(\"/\");\n  };\n\n  useEffect(() => {\n    checkAuth();\n  }, []);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        isAuthenticated: !!user,\n        isLoading,\n        login,\n        logout,\n        checkAuth,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AAqBA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,YAAY;QAChB,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,CAAC,OAAO;YACV,QAAQ;YACR,aAAa;YACb;QACF;QAEA,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,gBAAgB;gBAC3C,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;YACF;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,QAAQ;YACV,OAAO;gBACL,aAAa,UAAU,CAAC;gBACxB,QAAQ;YACV;QACF,EAAE,OAAO,OAAO;YACd,aAAa,UAAU,CAAC;YACxB,QAAQ;QACV,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,QAAQ,OAAO;QACnB,aAAa,OAAO,CAAC,SAAS;QAC9B,MAAM;IACR;IAEA,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,QAAQ;QACR,OAAO,IAAI,CAAC;IACd;IAEA,IAAA,0KAAS;kCAAC;YACR;QACF;iCAAG,EAAE;IAEL,qBACE,6LAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA,iBAAiB,CAAC,CAAC;YACnB;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;GAhEgB;;QAGC,kJAAS;;;KAHV;AAkET,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB","debugId":null}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/apps/frontend/app/providers.tsx"],"sourcesContent":["\"use client\";\n\nimport axios from \"axios\";\nimport { ReactNode } from \"react\";\nimport { SWRConfig } from \"swr\";\nimport { AuthProvider } from \"@/lib/auth-context\";\n\nconst fetcher = async (url: string) => {\n  const response = await axios.get(url);\n  return response.data;\n};\n\nexport default function Providers({ children }: { children: ReactNode }) {\n  return (\n    <AuthProvider>\n      <SWRConfig\n        value={{\n          fetcher,\n          revalidateOnFocus: false,\n          onError: (error) => {\n            console.error(\"SWR fetch error\", error);\n          }\n        }}\n      >\n        {children}\n      </SWRConfig>\n    </AuthProvider>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AALA;;;;;AAOA,MAAM,UAAU,OAAO;IACrB,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAAC;IACjC,OAAO,SAAS,IAAI;AACtB;AAEe,SAAS,UAAU,EAAE,QAAQ,EAA2B;IACrE,qBACE,6LAAC,8JAAY;kBACX,cAAA,6LAAC,8KAAS;YACR,OAAO;gBACL;gBACA,mBAAmB;gBACnB,SAAS,CAAC;oBACR,QAAQ,KAAK,CAAC,mBAAmB;gBACnC;YACF;sBAEC;;;;;;;;;;;AAIT;KAhBwB","debugId":null}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/apps/frontend/components/Navigation.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useAuth } from \"@/lib/auth-context\";\n\nexport default function Navigation() {\n  const { user, isAuthenticated, logout } = useAuth();\n\n  return (\n    <header className=\"border-b border-border bg-white/80 backdrop-blur\">\n      <div className=\"mx-auto flex max-w-6xl items-center justify-between px-4 py-4\">\n        <Link\n          href=\"/\"\n          className=\"text-lg font-semibold text-primary transition hover:text-primary/80\"\n        >\n          SmartYield\n        </Link>\n        <nav className=\"flex items-center gap-6 text-sm font-medium text-muted-foreground\">\n          <Link href=\"/\" className=\"transition hover:text-foreground\">\n            Home\n          </Link>\n          <Link\n            href=\"/predict-yield\"\n            className=\"transition hover:text-foreground\"\n          >\n            Predict Yield\n          </Link>\n          <Link href=\"/caldyn\" className=\"transition hover:text-foreground\">\n            CalDyn\n          </Link>\n          <Link href=\"/about\" className=\"transition hover:text-foreground\">\n            About\n          </Link>\n          <Link\n            href=\"/profile\"\n            className=\"rounded-lg bg-primary px-4 py-2 text-white transition hover:bg-primary/90\"\n          >\n            {isAuthenticated && user ? user.name : \"Profile\"}\n          </Link>\n        </nav>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE,MAAM,EAAE,GAAG,IAAA,yJAAO;IAEjD,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC,0KAAI;oBACH,MAAK;oBACL,WAAU;8BACX;;;;;;8BAGD,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,0KAAI;4BAAC,MAAK;4BAAI,WAAU;sCAAmC;;;;;;sCAG5D,6LAAC,0KAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;sCAGD,6LAAC,0KAAI;4BAAC,MAAK;4BAAU,WAAU;sCAAmC;;;;;;sCAGlE,6LAAC,0KAAI;4BAAC,MAAK;4BAAS,WAAU;sCAAmC;;;;;;sCAGjE,6LAAC,0KAAI;4BACH,MAAK;4BACL,WAAU;sCAET,mBAAmB,OAAO,KAAK,IAAI,GAAG;;;;;;;;;;;;;;;;;;;;;;;AAMnD;GAtCwB;;QACoB,yJAAO;;;KAD3B","debugId":null}}]
}